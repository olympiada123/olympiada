{% extends 'base.html' %}

{% block title %}–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç - –û–ª–∏–º–ø–∏–∞–¥–∞{% endblock %}

{% block content %}
<div class="container">
    <div class="about-page">
        <h1 class="about-page-title">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>

        <section class="about-section">
            <div class="detail-section-card">
                <h2 class="section-title">–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                <div class="profile-info-grid">
                    <div class="profile-info-item">
                        <span class="profile-info-label">–ò–º—è:</span>
                        <span class="profile-info-value">{{ user.first_name|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</span>
                    </div>
                    <div class="profile-info-item">
                        <span class="profile-info-label">–§–∞–º–∏–ª–∏—è:</span>
                        <span class="profile-info-value">{{ user.last_name|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</span>
                    </div>
                    <div class="profile-info-item">
                        <span class="profile-info-label">–†–æ–ª—å:</span>
                        <span class="profile-info-value profile-role profile-role-{% if role == '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' %}admin{% elif role == '–ö—É—Ä–∞—Ç–æ—Ä' %}curator{% else %}student{% endif %}">{{ role }}</span>
                    </div>
                    <div class="profile-info-item">
                        <span class="profile-info-label">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</span>
                        <span class="profile-info-value">{{ user.created_at|date:"d.m.Y" }}</span>
                    </div>
                </div>
            </div>

            <div class="detail-section-card">
                <h2 class="section-title">–ú–æ–∏ –æ–ª–∏–º–ø–∏–∞–¥—ã</h2>
                {% if registrations %}
                <div class="registrations-list">
                    {% for registration in registrations %}
                    <div class="registration-card">
                        <div class="registration-header">
                            <h3 class="registration-title">
                                <a href="{% url 'olympiad_detail' registration.olympiad.id %}" class="registration-link">
                                    {{ registration.olympiad.name }}
                                </a>
                            </h3>
                            <span class="registration-status registration-status-{{ registration.status }}">
                                {{ registration.get_status_display }}
                            </span>
                        </div>
                        <div class="registration-details">
                            <div class="registration-detail-item">
                                <span class="detail-icon">üìÖ</span>
                                <span class="detail-text">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {{ registration.registered_at|date:"d.m.Y" }}</span>
                            </div>
                            {% if registration.subjects.all %}
                            <div class="registration-detail-item">
                                <span class="detail-icon">üìö</span>
                                <span class="detail-text">–ü—Ä–µ–¥–º–µ—Ç—ã: {% for subject in registration.subjects.all %}{{ subject.name }}{% if not forloop.last %}, {% endif %}{% endfor %}</span>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="empty-state">
                    <p class="empty-state-text">–í—ã –µ—â–µ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–∏ –Ω–∞ –æ–¥–Ω—É –æ–ª–∏–º–ø–∏–∞–¥—É.</p>
                    <a href="{% url 'olympiads' %}" class="btn btn-primary">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–ª–∏–º–ø–∏–∞–¥—ã</a>
                </div>
                {% endif %}
            </div>
        </section>
    </div>
</div>
{% endblock %}

